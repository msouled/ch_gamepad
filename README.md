# 游戏手柄lsvf-gamepad.md

本项目的开发目的是解决游戏内按键定义与实际手柄按键兼容性问题，使玩家即使在游戏内无法自定义按键时，使用手柄的功能对按键进行修改，以达到让玩家使用自己熟悉的控制方式，无需厂家的垃圾优化。

[TOC]



## 一、需求

1、外观

​	·小，适合手小使用者

​	·使用非对称式手柄布局

​	·具有指示灯显示功能

2、硬件功能

​	·线性扳机

​	·多按键 11个按键以上

​	·ALPS 阿尔卑斯摇杆  

​	·主控 需要支持蓝牙 、USB 、ADC功能

​	·内置锂电池供电，TYPE-C接口

​	·显示-指示灯（开机、充电、模式、连接、工厂）

​	·手柄震动

​	·自定义按键

​	·USB外接扩展功能

3、外壳

​	·根据输出的PCB生产文件进行绘制模型，之后使用3D打印机打印外壳。



![](PNG\PNG1.png)

## 二、开发环境

以下软件皆都有免费版本

PCB绘制：嘉立创EDA(专业版)

编程软件：MounRiver Studio

手柄模型制作：Fusion360 

3D打印机切片软件：prusa-slicer





## 三、开发进度

### 1）硬件开发进度

- [x] 绘制原理图

- [x] 绘制PCB Layout
- [x] 整理BOM表
- [ ] 绘制手柄3D模型



### 2）功能开发进度

#### 基本功能

- [ ] 正常开关机
- [ ] LED显示
- [ ] 按键消抖（硬件消抖）
- [ ] 复位、下载

- [ ] 手柄-PC蓝牙连接
- [ ] PC正确识别gamepad设备
- [ ] PC 识别到手柄的所有按键
- [ ] 实现按键的更改功能

#### 进阶功能

- [ ] 上位机开发

- [ ] 校准摇杆功能，拒绝摇杆漂移
- [ ] 设置自定义死区大小
- [ ] 震动功能开发

#### 扩展功能

- [ ] 对按键进行复杂的宏定义（可能需要对按键更改功能进行重写）
- [ ] USB口扩展——无线通讯
- [ ] USB口外接oled显示屏 ——菜单显示

#### 高级功能

- [ ] USB有线连接、安卓、switch
- [ ] 根据报文自动设置连接模式





## 四、自定义开发流程





## 